---
title: "09 - Suspend and Resume"
description: "Pause workflows for human approval"
---

Suspend workflows to wait for external input like human approvals.

## Approval workflow

```python
from polos import workflow, WorkflowContext

@workflow(id="approval_workflow")
async def approval_workflow(ctx: WorkflowContext, payload: ApprovalRequest):
    # Prepare request
    await ctx.step.run("prepare", prepare_request, payload)

    # Suspend and wait for approval (up to 24 hours)
    resume_data = await ctx.step.suspend(
        "await_approval",
        data={
            "request_id": payload.request_id,
            "amount": payload.amount,
            "message": "Please approve this request",
        },
        timeout=86400,
    )

    # Process decision
    decision = resume_data.get("data", {})
    if decision.get("approved"):
        await ctx.step.run("process_approval", process_approved, payload)
        return {"status": "approved"}
    else:
        return {"status": "rejected", "reason": decision.get("reason")}
```

## Multi-step form

```python
@workflow(id="multi_step_form")
async def multi_step_form(ctx: WorkflowContext, payload):
    # Step 1: Collect personal info
    step1 = await ctx.step.suspend("personal_info", data={
        "step": 1,
        "fields": ["first_name", "last_name", "email"],
    })

    # Step 2: Collect address
    step2 = await ctx.step.suspend("address_info", data={
        "step": 2,
        "fields": ["street", "city", "country"],
    })

    return {"personal": step1["data"], "address": step2["data"]}
```

## Run it

```bash
git clone https://github.com/polos-dev/polos.git
cd polos/python-examples/09-suspend-resume
cp .env.example .env
uv sync
python worker.py      # Terminal 1
python main.py        # Terminal 2
```

Open [http://localhost:5173](http://localhost:5173) to view your agents and workflows, run them from the UI, and see execution traces.

[View complete example on GitHub](https://github.com/polos-dev/polos/tree/main/python-examples/09-suspend-resume)
